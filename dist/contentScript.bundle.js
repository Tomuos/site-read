(()=>{var e={413:e=>{e.exports=function(e){return e.replace(/\s+/g," ").trim()}},525:e=>{e.exports=function(e){return e.replace(/[^\w\s]/g,"")}},609:(e,t,n)=>{const o=n(525);e.exports=function(e){const t=o(e);if(1===t.length)return`<strong>${e}</strong>`;if(2===t.length)return`<strong>${e.charAt(0)}</strong>${e.charAt(1)}`;if(3===t.length)return`<strong>${e.substring(0,2)}</strong>${e.charAt(2)}`;if(t.length>3){const n=Math.ceil(t.length/2);return`<strong>${e.substring(0,n)}</strong>${e.substring(n)}`}return e}},453:e=>{e.exports=function(e){return e.split(/(\s+)/)}},65:(e,t,n)=>{const o=n(339);e.exports=function(e){const t=e.querySelectorAll("a"),n=e.querySelectorAll("em"),r=e.querySelectorAll("span");t.forEach((e=>o(e))),n.forEach((e=>o(e))),r.forEach((e=>o(e)))}},339:e=>{e.exports=function(e){const t=e.previousSibling,n=e.nextSibling;t&&t.nodeType===Node.TEXT_NODE?t.nodeValue.endsWith(" ")||(t.nodeValue+=" "):e.parentNode.insertBefore(document.createTextNode(" "),e),n&&n.nodeType===Node.TEXT_NODE?n.nodeValue.startsWith(" ")||(n.nodeValue=" "+n.nodeValue):e.parentNode.insertBefore(document.createTextNode(" "),n)}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}const o=n(413),r=n(525),s=n(453),c=n(609),i=n(65);chrome.runtime.onMessage.addListener(((e,t,n)=>{console.log("Message received in content script:",e),"toggleSiteRead"===e.action&&(l=e.state,console.log("Toggling SiteRead, new state:",l),l=!l,l?(a(),u.observe(document.body,{childList:!0,subtree:!0})):(u.disconnect(),document.querySelectorAll("span").forEach((e=>{e.parentNode&&e.replaceWith(...e.childNodes)})),i(document.body)),n({status:"SiteRead toggled"}))}));let l=!0;function a(){l&&(document.querySelectorAll("p, li, a, em, ul, ol").forEach((e=>{e.childNodes.forEach((e=>{if(e.nodeType===Node.TEXT_NODE){let t=e.nodeValue;t=o(t);const n=s(t).map((e=>{const t=r(e);return c(t)})).join(""),i=document.createElement("span");i.style.display="inline",i.innerHTML=n,e.replaceWith(i)}}))})),i(document.body))}const u=new MutationObserver((()=>{l&&a()}));a()})();
//# sourceMappingURL=contentScript.bundle.js.map