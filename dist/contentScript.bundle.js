(()=>{var e={876:e=>{e.exports={startObserver:function(e){const t=new MutationObserver((t=>{t.forEach((t=>{if("childList"===t.type&&t.addedNodes.forEach((t=>{t.nodeType===Node.ELEMENT_NODE&&e(t)})),"characterData"===t.type){const n=t.target.parentNode;n&&e(n)}}))}));return t.observe(document.body,{childList:!0,characterData:!0,subtree:!0}),t},stopObserver:function(e){e&&e.disconnect()}}},684:e=>{e.exports={injectGoogleFonts:function(){if(document.getElementById("myBionicFontsLink"))return;const e=document.createElement("link");e.id="myBionicFontsLink",e.rel="stylesheet",e.href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap",document.head.appendChild(e)},getChosenFont:function(e){chrome.storage.sync.get(["chosenFont"],(t=>{const n=t.chosenFont||'"Open Sans", sans-serif';e(n)}))}}},413:e=>{e.exports=function(e){return e.replace(/\s+/g," ").trim()}},525:e=>{e.exports=function(e){return e.replace(/[^\w\s.,!?'"":/“”‘’—–-]/g,"")}},609:(e,t,n)=>{const o=n(525);e.exports=function(e){const t=o(e);if(1===t.length)return`<strong>${e}</strong>`;if(2===t.length)return`<strong>${e.charAt(0)}</strong>${e.charAt(1)}`;if(3===t.length)return`<strong>${e.substring(0,2)}</strong>${e.charAt(2)}`;if(t.length>3){const n=Math.ceil(t.length/2);return`<strong>${e.substring(0,n)}</strong>${e.substring(n)}`}return e}},453:e=>{e.exports=function(e){return e.split(/(\s+)/)}},65:(e,t,n)=>{const o=n(339);e.exports=function(e){const t=e.querySelectorAll("a"),n=e.querySelectorAll("em"),r=e.querySelectorAll("span");t.forEach((e=>o(e))),n.forEach((e=>o(e))),r.forEach((e=>o(e)))}},339:e=>{e.exports=function(e){const t=e.previousSibling,n=e.nextSibling;t&&t.nodeType===Node.TEXT_NODE?t.nodeValue.endsWith(" ")||(t.nodeValue+=" "):e.parentNode.insertBefore(document.createTextNode(" "),e),n&&n.nodeType===Node.TEXT_NODE?n.nodeValue.startsWith(" ")||(n.nodeValue=" "+n.nodeValue):e.parentNode.insertBefore(document.createTextNode(" "),n)}},417:e=>{e.exports=function(e,t='"Open Sans", sans-serif'){const n=document.createElement("span");return n.style.display="inline",n.style.whiteSpace="normal",n.style.fontSize="inherit",n.style.lineHeight="inherit",n.style.fontFamily=t,n.innerHTML=e,n}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}const{injectGoogleFonts:o,getChosenFont:r}=n(684),s=n(413),c=n(525),a=n(453),i=n(609),d=n(65),l=n(417),{startObserver:u,stopObserver:p}=n(876);let h=!1,f=null,g='"Open Sans", sans-serif';function m(e=document.body){h&&(e.querySelectorAll("p, li, a, em, ul, ol, div, span, article, section").forEach((e=>{if("true"===e.dataset.bionicProcessed)return;let t=!1;e.childNodes.forEach((e=>{if(e.nodeType===Node.TEXT_NODE&&""!==e.nodeValue.trim()){t=!0;const n=s(e.nodeValue),o=a(n).map(c).map(i).join(""),r=l(o,g);r.dataset.bionicProcessed="true",e.replaceWith(r)}})),t&&(e.dataset.bionicProcessed="true")})),d(e))}chrome.storage.sync.get(["siteReadEnabled"],(e=>{h=e.siteReadEnabled||!1,h&&r((e=>{g=e,o(),m(document.body),f=u(m)}))})),chrome.runtime.onMessage.addListener(((e,t,n)=>{"toggleSiteRead"===e.action&&(h=e.state,h?r((e=>{g=e,o(),m(document.body),f=u(m)})):(p(f),location.reload()),n({status:"SiteRead toggled",enabled:h}))})),chrome.storage.onChanged.addListener(((e,t)=>{"sync"===t&&e.chosenFont&&(g=e.chosenFont.newValue||'"Open Sans", sans-serif',o(),document.querySelectorAll('span[data-bionic-processed="true"]').forEach((e=>{e.replaceWith(e.textContent)})),document.querySelectorAll('[data-bionic-processed="true"]').forEach((e=>{delete e.dataset.bionicProcessed})),m(document.body))}))})();
//# sourceMappingURL=contentScript.bundle.js.map