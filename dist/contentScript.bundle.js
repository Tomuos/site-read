(()=>{var e={413:e=>{e.exports=function(e){return e.replace(/\s+/g," ").trim()}},525:e=>{e.exports=function(e){return e.replace(/[^\w\s.,!?'"“”‘’-]/g,"")}},609:(e,t,n)=>{const r=n(525);e.exports=function(e){const t=r(e);if(1===t.length)return`<strong>${e}</strong>`;if(2===t.length)return`<strong>${e.charAt(0)}</strong>${e.charAt(1)}`;if(3===t.length)return`<strong>${e.substring(0,2)}</strong>${e.charAt(2)}`;if(t.length>3){const n=Math.ceil(t.length/2);return`<strong>${e.substring(0,n)}</strong>${e.substring(n)}`}return e}},453:e=>{e.exports=function(e){return e.split(/(\s+)/)}},65:(e,t,n)=>{const r=n(339);e.exports=function(e){const t=e.querySelectorAll("a"),n=e.querySelectorAll("em"),o=e.querySelectorAll("span");t.forEach((e=>r(e))),n.forEach((e=>r(e))),o.forEach((e=>r(e)))}},339:e=>{e.exports=function(e){const t=e.previousSibling,n=e.nextSibling;t&&t.nodeType===Node.TEXT_NODE?t.nodeValue.endsWith(" ")||(t.nodeValue+=" "):e.parentNode.insertBefore(document.createTextNode(" "),e),n&&n.nodeType===Node.TEXT_NODE?n.nodeValue.startsWith(" ")||(n.nodeValue=" "+n.nodeValue):e.parentNode.insertBefore(document.createTextNode(" "),n)}},417:e=>{e.exports=function(e){const t=document.createElement("span");return t.style.display="inline",t.style.whiteSpace="normal",t.style.fontSize="inherit",t.style.lineHeight="inherit",t.innerHTML=e,t}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}const r=n(413),o=n(525),s=n(453),i=n(609),a=n(65),l=n(417);let c=!1;function u(){c&&(document.querySelectorAll("p, li, a, em, ul, ol").forEach((e=>{e.childNodes.forEach((e=>{if(e.nodeType===Node.TEXT_NODE&&""!==e.nodeValue.trim()){const t=r(e.nodeValue),n=s(t).map(o).map(i).join(""),a=l(n);e.replaceWith(a)}}))})),a(document.body))}chrome.storage.sync.get(["siteReadEnabled"],(e=>{c=e.siteReadEnabled||!1,c&&u()})),chrome.runtime.onMessage.addListener(((e,t,n)=>{"toggleSiteRead"===e.action&&(c=e.state,c?u():location.reload(),n({status:"SiteRead toggled",enabled:c}))}))})();
//# sourceMappingURL=contentScript.bundle.js.map