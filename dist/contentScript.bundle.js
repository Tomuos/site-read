(()=>{var e={413:e=>{e.exports=function(e){return e.replace(/\s+/g," ").trim()}},525:e=>{e.exports=function(e){return e.replace(/[^\w\s.,!?'"":“”‘’–-]/g,"")}},609:(e,t,n)=>{const o=n(525);e.exports=function(e){const t=o(e);if(1===t.length)return`<strong>${e}</strong>`;if(2===t.length)return`<strong>${e.charAt(0)}</strong>${e.charAt(1)}`;if(3===t.length)return`<strong>${e.substring(0,2)}</strong>${e.charAt(2)}`;if(t.length>3){const n=Math.ceil(t.length/2);return`<strong>${e.substring(0,n)}</strong>${e.substring(n)}`}return e}},453:e=>{e.exports=function(e){return e.split(/(\s+)/)}},65:(e,t,n)=>{const o=n(339);e.exports=function(e){const t=e.querySelectorAll("a"),n=e.querySelectorAll("em"),r=e.querySelectorAll("span");t.forEach((e=>o(e))),n.forEach((e=>o(e))),r.forEach((e=>o(e)))}},339:e=>{e.exports=function(e){const t=e.previousSibling,n=e.nextSibling;t&&t.nodeType===Node.TEXT_NODE?t.nodeValue.endsWith(" ")||(t.nodeValue+=" "):e.parentNode.insertBefore(document.createTextNode(" "),e),n&&n.nodeType===Node.TEXT_NODE?n.nodeValue.startsWith(" ")||(n.nodeValue=" "+n.nodeValue):e.parentNode.insertBefore(document.createTextNode(" "),n)}},417:e=>{e.exports=function(e){const t=document.createElement("span");return t.style.display="inline",t.style.whiteSpace="normal",t.style.fontSize="inherit",t.style.lineHeight="inherit",t.innerHTML=e,t}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}const o=n(413),r=n(525),s=n(453),a=n(609),i=n(65),c=n(417);let d=!1,l=null;function u(e=document.body){d&&(e.querySelectorAll("p, li, a, em, ul, ol, div, span, article, section").forEach((e=>{if("true"===e.dataset.bionicProcessed)return;let t=!1;e.childNodes.forEach((e=>{if(e.nodeType===Node.TEXT_NODE&&""!==e.nodeValue.trim()){t=!0;const n=o(e.nodeValue),i=s(n).map(r).map(a).join(""),d=c(i);d.dataset.bionicProcessed="true",e.replaceWith(d)}})),t&&(e.dataset.bionicProcessed="true")})),i(e))}function p(){l||(l=new MutationObserver((e=>{e.forEach((e=>{if("childList"===e.type&&e.addedNodes.forEach((e=>{e.nodeType===Node.ELEMENT_NODE&&u(e)})),"characterData"===e.type){const t=e.target.parentNode;t&&u(t)}}))})),l.observe(document.body,{childList:!0,characterData:!0,subtree:!0}))}chrome.storage.sync.get(["siteReadEnabled"],(e=>{d=e.siteReadEnabled||!1,d&&(u(document.body),p())})),chrome.runtime.onMessage.addListener(((e,t,n)=>{"toggleSiteRead"===e.action&&(d=e.state,d?(u(document.body),p()):(l&&(l.disconnect(),l=null),location.reload()),n({status:"SiteRead toggled",enabled:d}))}))})();
//# sourceMappingURL=contentScript.bundle.js.map